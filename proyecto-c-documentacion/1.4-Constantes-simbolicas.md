# 1.4. Constantes Simbólicas

Una **constante simbólica** es un nombre que representa un valor constante (un número, un carácter, una cadena, etc.). Usar constantes simbólicas en lugar de "valores mágicos" (números o cadenas literales sin explicación) es una práctica fundamental en C que mejora drásticamente la legibilidad y el mantenimiento del código.

Hay dos formas principales de definir constantes en C:

1.  La directiva del preprocesador `#define`.
2.  La palabra clave `const`.

## 1. La Directiva del Preprocesador `#define`

El preprocesador de C es una herramienta que analiza y modifica el código fuente _antes_ de que comience la compilación. La directiva `#define` le ordena al preprocesador que realice una sustitución de texto.

### Sintaxis

`#define NOMBRE_SIMBOLICO texto_de_reemplazo`

- **`NOMBRE_SIMBOLICO`**: Por convención, se escribe en mayúsculas para distinguirlo de las variables.
- **`texto_de_reemplazo`**: El texto que sustituirá a `NOMBRE_SIMBOLICO`.

**Importante:** No se usa punto y coma (`;`) al final de una directiva `#define`. Si lo pones, el punto y coma se convertirá en parte del texto de reemplazo, lo que casi siempre causa errores de compilación.

### Ejemplo Práctico: Tabla de Temperaturas

Revisitemos el programa de conversión de temperaturas, ahora usando constantes simbólicas para definir los parámetros de la tabla.

```c
#include <stdio.h>

// Definición de constantes simbólicas
#define LOWER 0      // Límite inferior de la tabla
#define UPPER 300    // Límite superior
#define STEP  20     // Tamaño del incremento

int main() {
    int fahrenheit;

    printf("Fahrenheit\tCelsius\n");
    printf("----------\t-------\n");

    for (fahrenheit = LOWER; fahrenheit <= UPPER; fahrenheit = fahrenheit + STEP) {
        float celsius = (5.0 / 9.0) * (fahrenheit - 32);
        printf("%10d\t%7.1f\n", fahrenheit, celsius);
    }

    return 0;
}
```

**Ventajas:**

- **Legibilidad:** El propósito de los números `0`, `300` y `20` es ahora explícito.
- **Mantenibilidad:** Si queremos cambiar los límites o el paso de la tabla, solo necesitamos modificar las tres líneas del `#define` en la cabecera, sin tocar la lógica del `for`.

## 2. La Palabra Clave `const`

En C moderno (C89 y posteriores), también puedes declarar constantes usando la palabra clave `const`. Esto crea una variable cuyo valor no puede ser modificado después de la inicialización.

```c
const int UPPER = 300;
const float PI = 3.1416;
```

## `#define` vs. `const`

| Característica      | `#define` (Preprocesador)                                                             | `const` (Variable)                                                       |
| :------------------ | :------------------------------------------------------------------------------------ | :----------------------------------------------------------------------- |
| **Mecanismo**       | Sustitución de texto antes de compilar. El compilador no ve el nombre, solo el valor. | Variable real de solo lectura. El compilador conoce el nombre y el tipo. |
| **Tipado**          | No tiene tipo. Es solo texto.                                                         | Tiene un tipo de dato definido (`int`, `float`, etc.).                   |
| **Alcance (Scope)** | Desde el punto de definición hasta el final del archivo (o hasta un `#undef`).        | Sigue las reglas de alcance normales (global o de bloque).               |
| **Depuración**      | El depurador no conoce el nombre `UPPER`, solo el valor `300`.                        | El depurador conoce la variable `UPPER`, lo que facilita la depuración.  |

**Recomendación general:**

- Usa `#define` para constantes simples y globales que controlan la compilación o definen valores que no necesitan un tipo estricto. Es la forma tradicional y la verás en mucho código existente.
- Usa `const` para declarar constantes dentro de tu código (especialmente dentro de funciones) cuando quieres que tengan un tipo y un alcance definidos. Es considerado un enfoque más moderno y seguro.

## Comparación con JavaScript

El equivalente más cercano en JavaScript es `const`.

**C (`const`):**

```c
const int LIMITE = 100;
```

**JavaScript:**

```javascript
const LIMITE = 100;
```

Ambos crean una "variable" de solo lectura con un tipo y un alcance de bloque.

La directiva `#define` de C no tiene un análogo directo en JavaScript, ya que JavaScript no tiene una fase de preprocesamiento separada de la misma manera que C.

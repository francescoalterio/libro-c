# 1.6. Arreglos

Los arreglos (arrays) en C son una estructura de datos fundamental que permite almacenar una colección de elementos del **mismo tipo** en ubicaciones de memoria contiguas. A diferencia de los lenguajes de alto nivel como JavaScript, el manejo de arreglos en C es más manual, lo que ofrece un gran control pero también exige mayor responsabilidad del programador.

## Declaración e Inicialización de Arreglos

Para declarar un arreglo, se especifica el tipo de los elementos, el nombre del arreglo y el tamaño (número de elementos) entre corchetes.

```c
// Declara un arreglo llamado 'numeros' que puede contener 10 enteros.
int numeros[10];
```

Esto reserva en la memoria un bloque contiguo de espacio suficiente para 10 enteros. Los índices del arreglo van desde `0` hasta `tamaño - 1`. En este caso, de `0` a `9`.

### Formas de Inicialización

Puedes inicializar un arreglo en el momento de su declaración:

```c
// 1. Inicialización completa
int primos[5] = {2, 3, 5, 7, 11};

// 2. Inicialización parcial (los elementos restantes se inicializan a 0)
int datos[10] = {10, 20, 30}; // datos = {10, 20, 30, 0, 0, 0, 0, 0, 0, 0}

// 3. Inicialización sin especificar el tamaño (C lo calcula automáticamente)
char vocales[] = {'a', 'e', 'i', 'o', 'u'}; // El compilador asigna un tamaño de 5
```

## Ejemplo Práctico: Contador de Dígitos

Este programa es un ejemplo clásico que ilustra el poder de los arreglos. Cuenta la cantidad de veces que aparece cada dígito (0-9), así como los espacios en blanco y otros caracteres en una entrada de texto.

```c
#include <stdio.h>

/* Contar dígitos, espacios en blanco y otros */
int main() {
    int c, i, nwhite, nother;
    int ndigit[10]; // Arreglo para contar los 10 dígitos (0-9)

    nwhite = nother = 0;
    // Inicializa el arreglo de contadores a cero
    for (i = 0; i < 10; ++i) {
        ndigit[i] = 0;
    }

    while ((c = getchar()) != EOF) {
        if (c >= '0' && c <= '9') {
            // Si es un dígito, incrementa el contador correspondiente.
            // El truco c - '0' convierte el carácter '0'-'9' a un entero 0-9.
            ++ndigit[c - '0'];
        } else if (c == ' ' || c == '\n' || c == '\t') {
            // Si es un espacio en blanco
            ++nwhite;
        } else {
            // Si es cualquier otro carácter
            ++nother;
        }
    }

    printf("Dígitos:\n");
    for (i = 0; i < 10; ++i) {
        printf(" %d: %d\n", i, ndigit[i]);
    }
    printf("Espacios en blanco: %d\n", nwhite);
    printf("Otros caracteres: %d\n", nother);

    return 0;
}
```

### Desglose del Ejemplo

- **`int ndigit[10];`**: Este arreglo es el corazón del programa. `ndigit[0]` contará las veces que aparece el dígito '0', `ndigit[1]` las del '1', y así sucesivamente.
- **`c - '0'`**: Esta es una expresión idiomática en C. Los caracteres tienen valores numéricos. La expresión `c - '0'` calcula la diferencia entre el valor del carácter dígito (ej. `'5'`) y el valor del carácter `'0'`, resultando en el valor entero correspondiente (ej. `5`). Esto nos da el índice perfecto para nuestro arreglo.

## Peligros Comunes: Desbordamiento de Búfer (Buffer Overflow)

Una de las diferencias más críticas entre C y JavaScript es que **C no verifica los límites de un arreglo**. Si tienes un arreglo de 10 elementos e intentas escribir en el índice 10 (que está fuera del rango válido 0-9), C lo intentará, sobrescribiendo la memoria que no le pertenece.

```c
int arr[5] = {1, 2, 3, 4, 5};

// ¡PELIGRO! Esto está fuera de los límites del arreglo.
// Puede corromper otras variables, causar un crash o crear una vulnerabilidad de seguridad.
arr[10] = 99;
```

Este comportamiento, conocido como **desbordamiento de búfer**, es una fuente común de errores y vulnerabilidades de seguridad en programas C.

## Comparación Detallada: C vs. JavaScript

| Característica        | Arreglos en C                                                          | Arreglos en JavaScript                                       |
| :-------------------- | :--------------------------------------------------------------------- | :----------------------------------------------------------- |
| **Tamaño**            | Fijo, definido en la compilación.                                      | Dinámico, puede crecer y reducirse.                          |
| **Tipos de Datos**    | Homogéneo (todos los elementos del mismo tipo).                        | Heterogéneo (pueden mezclar números, strings, objetos).      |
| **Métodos**           | Ninguno. Las operaciones se hacen con ciclos y aritmética de punteros. | Ricos en métodos (`.push`, `.pop`, `.map`, `.filter`, etc.). |
| **Manejo de Memoria** | Manual. El programador es responsable.                                 | Automático (gestionado por el motor de JavaScript).          |
| **Seguridad**         | Propenso a desbordamientos de búfer si no se maneja con cuidado.       | Seguro. Acceder fuera de los límites lanza un error.         |

## Resumen

Los arreglos en C son una herramienta eficiente y de bajo nivel. Su naturaleza de tamaño fijo y la falta de verificación de límites exigen una programación cuidadosa, pero son la base para construir estructuras de datos más complejas como cadenas de caracteres (strings) y matrices. Entender su funcionamiento y sus peligros es un paso esencial para dominar C.

# 2.6. Operadores de Relación y Lógicos

Estos operadores son la base para la toma de decisiones en C. Permiten comparar valores y combinar condiciones para controlar el flujo de un programa a través de sentencias como `if`, `while` y `for`.

## Operadores de Relación

Los operadores de relación comparan dos valores y producen un resultado que es "verdadero" o "falso". En C, no existe un tipo booleano nativo (hasta el estándar C99 con `<stdbool.h>`). En su lugar, C utiliza enteros para representar la verdad:

- **`0`** representa **falso**.
- **Cualquier valor distinto de cero** representa **verdadero**.

Cuando una expresión de relación es verdadera, evalúa al entero `1`.

| Operador | Significado              | Ejemplo  | Resultado si `a=5, b=10` |
| :------- | :----------------------- | :------- | :----------------------- |
| `==`     | Igual a                  | `a == b` | `0` (falso)              |
| `!=`     | No igual a (distinto de) | `a != b` | `1` (verdadero)          |
| `<`      | Menor que                | `a < b`  | `1` (verdadero)          |
| `<=`     | Menor o igual que        | `a <= b` | `1` (verdadero)          |
| `>`      | Mayor que                | `a > b`  | `0` (falso)              |
| `>=`     | Mayor o igual que        | `a >= b` | `0` (falso)              |

**¡Error Común!** Usar el operador de asignación (`=`) en lugar del de comparación (`==`) en un `if`.

```c
int a = 5;
if (a = 10) { // ¡ERROR! Asigna 10 a 'a', la expresión evalúa a 10 (verdadero)
    // Este bloque SIEMPRE se ejecutará.
}
if (a == 10) { // Correcto: Compara si 'a' es igual a 10.
    // ...
}
```

## Operadores Lógicos

Los operadores lógicos se usan para combinar múltiples expresiones de verdadero/falso.

| Operador | Significado     | Regla                                                                                                                            |
| :------- | :-------------- | :------------------------------------------------------------------------------------------------------------------------------- | ------------- | ------ | --- | -------------------------------------------------------------------- |
| `&&`     | Y lógico (AND)  | `expr1 && expr2` es verdadero (1) solo si **ambas** `expr1` y `expr2` son verdaderas.                                            |
| `        |                 | `                                                                                                                                | O lógico (OR) | `expr1 |     | expr2` es verdadero (1) si **al menos una** de las dos es verdadera. |
| `!`      | NO lógico (NOT) | `!expr` invierte el valor de verdad. Si `expr` es verdadero, `!expr` es falso (0). Si `expr` es falso, `!expr` es verdadero (1). |

### Evaluación de Cortocircuito (Short-Circuit)

C garantiza que las expresiones lógicas se evalúan de izquierda a derecha y la evaluación se detiene tan pronto como el resultado final es conocido. Esto se llama "evaluación de cortocircuito" y es una característica muy importante.

- **Para `&&` (AND):** Si la primera expresión es falsa, el resultado de todo el `&&` será falso sin importar la segunda expresión. Por lo tanto, **la segunda expresión no se evalúa**.
- **Para `||` (OR):** Si la primera expresión es verdadera, el resultado de todo el `||` será verdadero sin importar la segunda expresión. Por lo tanto, **la segunda expresión no se evalúa**.

Este comportamiento es útil para escribir código más seguro y eficiente:

```c
// Si 'n' es 0, la segunda parte (x / n) nunca se ejecuta, evitando una división por cero.
if (n != 0 && x / n > 10) {
    // ...
}
```

## Precedencia

- Los operadores de relación (`<`, `>`, `<=`, `>=`) tienen mayor precedencia que `==` y `!=`.
- `==` y `!=` tienen mayor precedencia que los operadores lógicos.
- `&&` tiene mayor precedencia que `||`.
- El operador `!` (NOT) tiene una precedencia muy alta, mayor que todos los operadores de relación y lógicos.

```c
// Gracias a la precedencia, esto se evalúa como: (a < b) && (b == c)
if (a < b && b == c) { ... }

// El NOT se aplica solo a 'a'
if (!a || b) { ... } // Equivale a ((!a) || b)
```

A pesar de las reglas de precedencia, **usar paréntesis `()` para agrupar expresiones lógicas complejas es una excelente práctica** que mejora la legibilidad y previene errores.

## Resumen

- Los operadores de relación y lógicos son las herramientas para la toma de decisiones en C.
- C usa `0` para falso y cualquier otro valor para verdadero.
- Cuidado con el error común de usar `=` en lugar de `==`.
- La evaluación de cortocircuito de `&&` y `||` es una característica poderosa y útil.
- Usa paréntesis para clarificar expresiones complejas, incluso si no son estrictamente necesarios.

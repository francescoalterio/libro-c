# 3.5. Ciclos — `while` y `for`

Los ciclos (o bucles) son estructuras de control que permiten ejecutar repetidamente un bloque de código. Los dos tipos de ciclos más fundamentales y comunes en C son `while` y `for`.

## El Ciclo `while`

El ciclo `while` es el más simple. Repite una proposición (o un bloque) mientras una condición sea verdadera.

**Sintaxis:**

```c
while (expresion) {
    // bloque de código a repetir
}
```

**Flujo de ejecución:**

1.  Se evalúa la `expresion` de control.
2.  Si es **verdadera** (distinta de cero), se ejecuta el bloque de código. Después de ejecutar el bloque, se vuelve al paso 1.
3.  Si es **falsa** (cero), el ciclo termina y la ejecución continúa en la siguiente proposición después del bloque `while`.

La condición se prueba **antes** de ejecutar el cuerpo del ciclo. Por lo tanto, si la condición es falsa desde el principio, el cuerpo del ciclo podría no ejecutarse ni una sola vez.

**Ejemplo: Contar hasta 5**

```c
int i = 0; // 1. Inicialización

while (i < 5) { // 2. Condición
    printf("%d ", i);
    i++; // 3. Actualización
}
// Salida: 0 1 2 3 4
```

Este ejemplo muestra los tres componentes clave de un ciclo: inicialización, condición y actualización.

## El Ciclo `for`

El ciclo `for` es una especialización del `while` que agrupa los tres componentes clave de un ciclo en una sola línea, haciéndolo más compacto y legible para tareas de iteración controlada por un contador.

**Sintaxis:**

```c
for (inicializacion; condicion; actualizacion) {
    // bloque de código a repetir
}
```

**Componentes:**

1.  **`inicializacion`**: Se ejecuta **una sola vez** antes de que comience el ciclo. Típicamente se usa para declarar e inicializar una variable de control.
2.  **`condicion`**: Se evalúa **antes de cada iteración**. Si es verdadera, el cuerpo del ciclo se ejecuta. Si es falsa, el ciclo termina.
3.  **`actualizacion`**: Se ejecuta **después de cada iteración**, justo antes de que la condición se vuelva a evaluar. Típicamente se usa para incrementar o decrementar la variable de control.

**Ejemplo: Contar hasta 5 con `for`**

```c
for (int i = 0; i < 5; i++) {
    printf("%d ", i);
}
// Salida: 0 1 2 3 4
```

Este código es funcionalmente idéntico al ejemplo con `while`, pero es más conciso y menos propenso a errores (como olvidar la actualización `i++`).

## `for` vs. `while`: ¿Cuándo usar cada uno?

- **Usa `for` cuando...** el número de iteraciones es conocido de antemano o se basa en una progresión clara (contar de 0 a N, recorrer un arreglo, etc.). Es la opción preferida para la mayoría de los ciclos de conteo.
- **Usa `while` cuando...** la condición de terminación no depende de un contador, sino de un evento externo o un estado que cambia de forma impredecible dentro del ciclo (ej. esperar una entrada del usuario, leer un archivo hasta el final, procesar una lista enlazada).

```c
// Caso para 'while': leer caracteres hasta encontrar el final del archivo (EOF)
int c;
while ((c = getchar()) != EOF) {
    // procesar caracter c
}
```

## Flexibilidad del Ciclo `for`

Cualquiera de las tres partes en la cabecera de un `for` puede ser omitida, aunque los puntos y comas deben permanecer.

- **Ciclo infinito con `for`:**

  ```c
  for (;;) {
      // Este ciclo se ejecutará para siempre a menos que haya un 'break' o 'return' dentro.
  }
  ```

  Esto es una forma idiomática y común de escribir un ciclo infinito en C.

- **Mover la actualización al cuerpo:**
  ```c
  int i = 0;
  for (; i < 10; ) {
      printf("%d", i);
      i++; // La actualización está dentro del cuerpo
  }
  ```

## Comparación con JavaScript

La sintaxis y el funcionamiento de los ciclos `for` y `while` en JavaScript son **idénticos** a los de C. La declaración de la variable de control con `let` en un ciclo `for` de JavaScript (`for (let i = 0; ...`) le da un alcance de bloque, similar al comportamiento en C (desde el estándar C99).

## Resumen

- `while` y `for` son las estructuras de ciclo fundamentales en C.
- `while` es ideal para ciclos cuya terminación depende de una condición externa.
- `for` es ideal para ciclos controlados por un contador, agrupando inicialización, condición y actualización de forma compacta.
- Un ciclo `for` es, en esencia, una forma reestructurada de un ciclo `while`.
- El ciclo `for (;;)` es la forma idiomática de crear un ciclo infinito.

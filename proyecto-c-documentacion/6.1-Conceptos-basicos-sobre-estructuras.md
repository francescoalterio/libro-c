# 6.1. Conceptos Básicos sobre Estructuras

Hasta ahora, hemos trabajado con tipos de datos básicos (`int`, `char`, `float`) y arreglos, que son colecciones de elementos del _mismo_ tipo. Sin embargo, a menudo necesitamos agrupar datos de _diferentes_ tipos que están lógicamente relacionados. Por ejemplo, para representar a una persona, necesitaríamos su nombre (una cadena), su edad (un entero) y su altura (un flotante).

Una **estructura** (`struct`) es un tipo de dato definido por el usuario en C que permite agrupar variables de diferentes tipos bajo un solo nombre. Es la base para crear tipos de datos complejos y personalizados, similar a los objetos en otros lenguajes.

## Declaración de una Estructura

La declaración de una estructura define un nuevo tipo de dato. Se utiliza la palabra clave `struct`, seguida del nombre (o etiqueta) de la estructura y una lista de sus miembros entre llaves.

```c
// Declaración de la plantilla para 'struct Punto'
struct Punto {
    int x;
    int y;
};

// Declaración de la plantilla para 'struct Persona'
struct Persona {
    char nombre[50];
    int edad;
    float altura_metros;
};
```

- `struct Punto` y `struct Persona` son ahora nuevos **tipos de datos**.
- `x`, `y`, `nombre`, `edad`, `altura_metros` son los **miembros** o **campos** de sus respectivas estructuras.
- Esta declaración solo crea la "plantilla"; no reserva memoria para ninguna variable todavía.

## Definición e Inicialización de Variables de Estructura

Una vez que la plantilla está declarada, podemos definir variables de ese tipo.

```c
#include <stdio.h>
#include <string.h>

// Declaración de la plantilla
struct Persona {
    char nombre[50];
    int edad;
};

int main() {
    // 1. Definición e inicialización al mismo tiempo (estilo C89)
    struct Persona p1 = {"Ana García", 30};

    // 2. Definición y asignación por miembros
    struct Persona p2;
    strcpy(p2.nombre, "Luis Torres"); // Las cadenas deben copiarse con strcpy
    p2.edad = 25;

    // 3. Inicialización designada (estilo C99 y posterior) - ¡Muy recomendada!
    // Permite inicializar miembros en cualquier orden y es más legible.
    struct Persona p3 = {.edad = 45, .nombre = "Elena Soler"};

    return 0;
}
```

## Acceso a los Miembros de una Estructura

Para acceder a un miembro específico de una variable de estructura, se utiliza el **operador de acceso a miembro**, que es un punto (`.`).

`nombre_variable.nombre_miembro`

```c
#include <stdio.h>

struct Persona {
    char nombre[50];
    int edad;
};

int main() {
    struct Persona p1 = {"Ana García", 30};

    // Acceso para lectura
    printf("Nombre: %s\n", p1.nombre);
    printf("Edad: %d\n", p1.edad);

    // Acceso para escritura (modificación)
    p1.edad = p1.edad + 1;
    printf("Nueva edad de Ana: %d\n", p1.edad);

    return 0;
}
```

## Estructuras y Memoria

Los miembros de una estructura se almacenan en memoria en el orden en que se declaran. El tamaño total de una estructura es, como mínimo, la suma de los tamaños de sus miembros. Sin embargo, el compilador puede añadir "relleno" (_padding_) entre los miembros para alinear los datos en la memoria de manera eficiente, por lo que el tamaño real puede ser mayor.

## Comparación con JavaScript

El análogo más cercano a una `struct` en C es un **objeto** en JavaScript.

```javascript
// En JS, un objeto agrupa datos (propiedades)
const persona = {
  nombre: "Ana García",
  edad: 30,
};

// El acceso a las propiedades es similar, usando el punto.
console.log(persona.nombre); // "Ana García"
persona.edad++;
console.log(persona.edad); // 31
```

**Diferencias Fundamentales:**

| Característica | `struct` en C                                                                        | Objeto en JavaScript                                                                |
| :------------- | :----------------------------------------------------------------------------------- | :---------------------------------------------------------------------------------- |
| **Definición** | Rígida y estática. La "forma" de la estructura se define una vez y no puede cambiar. | Dinámica. Se pueden añadir, modificar o eliminar propiedades en cualquier momento.  |
| **Tipado**     | Fuertemente tipado. Cada miembro tiene un tipo fijo.                                 | Débilmente tipado. Las propiedades no tienen un tipo fijo.                          |
| **Contenido**  | Solo puede contener datos.                                                           | Puede contener tanto datos (propiedades) como comportamiento (métodos/funciones).   |
| **Memoria**    | El programador gestiona la memoria (stack vs. heap con `malloc`).                    | La memoria es gestionada automáticamente por el motor de JS (recolector de basura). |

## Resumen

- Una `struct` es un tipo de dato compuesto que agrupa variables de diferentes tipos.
- Se declara una "plantilla" y luego se definen variables de ese tipo.
- El operador `.` se usa para acceder a los miembros de una estructura.
- Son la base para crear tipos de datos personalizados y organizar información compleja de manera lógica.
- Son conceptualmente similares a los objetos de JavaScript, pero mucho más rígidas, estáticas y centradas únicamente en los datos.
